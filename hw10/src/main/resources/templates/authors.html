<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Main menu</title>
    <style type="text/css">
        body {
            padding: 50px;
        }

        .authors {
            border: 1px solid steelblue;
            width: 300px;
            border-collapse: collapse;
        }

        .authors tr td, th {
            padding: 5px;
            border: 1px solid steelblue;
        }

        .authors td:last-child, td:first-child {
            width: 50px;
        }

        .main-menu{
            padding-top:100px;
        }


    </style>

</head>
<body>

<h3>Authors:</h3>
<table class="authors">
    <thead>
    <tr>
        <th>ID</th>
        <th>Full Name</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        getAuthors();
    });

    function getAuthors() {
              fetch('/api/authors')
                  .then(response => response.json())
                  .then(authors => {
                       let table = document.getElementsByClassName('authors')[0].tBodies[0];
                     for(var i=0;i<authors.length;i++)
                     {
                       let tr=document.createElement('tr')

                       let cell1=document.createElement('td');
                       cell1.textContent=authors[i].id;
                       tr.appendChild(cell1);

                       let cell2=document.createElement('td');
                       cell2.textContent=authors[i].fullName;
                       tr.appendChild(cell2);

                       table.appendChild(tr);

                     }
                  })
                   .catch(error => console.error('Error:', error));
          }

</script>


<div class="main-menu">
    <div><a href="/">Main menu</a></div>
</div>

</body>
</html>
